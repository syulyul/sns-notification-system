<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ğŸŒ±ë‚´ ì •ë³´ ìˆ˜ì •</title>
    <link rel="stylesheet" type="text/css" href="/css/font.css">
    <link rel="stylesheet" type="text/css" href="/css/header.css">
    <link rel="stylesheet" type="text/css" href="/css/myPage/myPageInfo.css">
    <link rel="stylesheet" type="text/css" href="/css/myPage/myPageInfoUpdate.css">
</head>
<body>
<div data-th-replace="header :: header"></div>
<br>

<p data-th-unless="${session.loginUser}">ë¡œê·¸ì¸ì´ í•„ìš”í•©ë‹ˆë‹¤!</p>

<form data-th-if="${session.loginUser}" action='update' method='post' enctype='multipart/form-data'>
    <div id="myPageBox" style="">
        <div data-th-replace="myPage/memberInfo :: memberInfo" id="memberInfo"></div>
        <div class="info_update" >
            <div class="form-container" style="margin-left:180px">
                <h1>ë‚´ ì •ë³´ ìˆ˜ì •</h1>
                <div class="form-group">
                    <label for="name">ğŸŒ± ì‚¬ì§„</label>
                    <input type="file" id="photofile" name="photofile" style="width:10px;" onchange="previewImage(this);">
                    <img class="user-photo" data-th-unless="${session.loginUser.photo}" src='/images/default.jpg' alt="ê¸°ë³¸ ì´ë¯¸ì§€">
                    <img id="preview" class="user-photo" data-th-if="${session.loginUser.photo}"
                         data-th-src="|http://gjoxpfbmymto19010706.cdn.ntruss.com/sns_member/${myPage.photo}?type=f&w=270&h=270&faceopt=true&ttype=jpg|">
                </div>

                <script>
                    function previewImage(input) {
                        var preview = document.getElementById('preview');
                        if (input.files && input.files[0]) {
                            var reader = new FileReader();
                            reader.onload = function(e) {
                                preview.src = e.target.result;
                            };
                            reader.readAsDataURL(input.files[0]);
                        }
                    }
                </script>

                <div class="form-group">
                    <label for="name">ğŸŒ± ì´ë¦„</label>
                    <input type="text" id="name" name="name" data-th-value="${myPage.name}" readonly>
                </div>
                <div class="form-group">
                    <label for="nick">ğŸŒ± ë‹‰ë„¤ì„</label>
                    <input type="text" id="nick" name="nick" data-th-value="${myPage.nick}">
                </div>
                <div class="form-group">
                    <label for="birthday">ğŸŒ± ìƒì¼</label>
                    <input type="date" id="birthday" name="birthday" data-th-value="${#dates.format(myPage.birthday, 'yyyy-MM-dd')}">
                </div>
                <div class="form-group">
                    <label for="email">ğŸŒ± ì´ë©”ì¼</label>
                    <input type="email" id="email" name="email" data-th-value="${myPage.email}">
                </div>
                <div class="form-group">
                    <label for="phone">ğŸŒ± ì „í™”ë²ˆí˜¸</label>
                    <input type="tel" id="phone" name="phoneNumber" data-th-value="${myPage.phoneNumber}">
                </div>
                <div class="form-group">
                    <label for="password">ğŸŒ± ì•”í˜¸</label>
                    <input type="password" id="password" name="password">
                </div>
                <div class="form-group">
                    <label for="gender">ğŸŒ± ì„±ë³„</label>
                    <select id="gender" name="gender" data-th-value="${myPage.gender}">
                        <option value='1' data-th-selected="${myPage.gender} == '1'">ë‚¨ì</option>
                        <option value='2' data-th-selected="${myPage.gender} == '2'">ì—¬ì</option>
                    </select>
                </div>
                <div class="button-container">
                    <div class="my_btn">
                        <button type="submit">ìˆ˜ì •</button>
                        <button class="my_btn" type="reset">ì´ˆê¸°í™”</button>
                    </div>
                </div>
            </div>
        </div>
    </div>
</form>

<div data-th-replace="footer :: footer"></div>
</body>
</html>
